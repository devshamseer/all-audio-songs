# All Songs   

A new songs api project.

## Getting Started

<picture>
  <source media="(prefers-color-scheme: dark)" srcset="https://user-images.githubusercontent.com/25423296/163456776-7f95b81a-f1ed-45f7-b7ab-8fa810d529fa.png">
  <source media="(prefers-color-scheme: light)" srcset="https://user-images.githubusercontent.com/25423296/163456779-a8556205-d0a5-45e2-ac17-42d089e3c3f8.png">
  <img alt="Shows an illustrated sun in light mode and a moon with stars in dark mode." src="https://user-images.githubusercontent.com/25423296/163456779-a8556205-d0a5-45e2-ac17-42d089e3c3f8.png">
</picture>




<!-- Improved compatibility of back to top link: See: https://github.com/othneildrew/Best-README-Template/pull/73 -->
<a name="readme-top"></a>
<!--
*** Thanks for checking out the Best-README-Template. If you have a suggestion
*** that would make this better, please fork the repo and create a pull request
*** or simply open an issue with the tag "enhancement".
*** Don't forget to give the project a star!
*** Thanks again! Now go create something AMAZING! :D
******** HELLO
-->



<!-- PROJECT SHIELDS -->
<!--
*** I'm using markdown "reference style" links for readability.
*** Reference links are enclosed in brackets [ ] instead of parentheses ( ).
*** See the bottom of this document for the declaration of the reference variables
*** for contributors-url, forks-url, etc. This is an optional, concise syntax you may use.
*** https://www.markdownguide.org/basic-syntax/#reference-style-links
-->
[![Contributors][contributors-shield]][contributors-url]
[![Forks][forks-shield]][forks-url]
[![Stargazers][stars-shield]][stars-url]
[![Issues][issues-shield]][issues-url]
[![MIT License][license-shield]][license-url]
[![LinkedIn][linkedin-shield]][linkedin-url]



<!-- PROJECT LOGO -->
<br />
<div align="center">
  <a href="https://github.com/othneildrew/Best-README-Template">
    <img src="images/logo.png" alt="Logo" width="80" height="80">
  </a>

  <h3 align="center">Best-README-Template</h3>

  <p align="center">
    An awesome README template to jumpstart your projects!
    <br />
    <a href="https://github.com/othneildrew/Best-README-Template"><strong>Explore the docs »</strong></a>
    <br />
    <br />
    <a href="https://github.com/othneildrew/Best-README-Template">View Demo</a>
    ·
    <a href="https://github.com/othneildrew/Best-README-Template/issues">Report Bug</a>
    ·
    <a href="https://github.com/othneildrew/Best-README-Template/issues">Request Feature</a>
  </p>
</div>



<!-- TABLE OF CONTENTS -->
<details>
  <summary>Table of Contents</summary>
  <ol>
    <li>
      <a href="#about-the-project">About The Project</a>
      <ul>
        <li><a href="#built-with">Built With</a></li>
      </ul>
    </li>
    <li>
      <a href="#getting-started">Getting Started</a>
      <ul>
        <li><a href="#prerequisites">Prerequisites</a></li>
        <li><a href="#installation">Installation</a></li>
      </ul>
    </li>
    <li><a href="#usage">Usage</a></li>
    <li><a href="#roadmap">Roadmap</a></li>
    <li><a href="#contributing">Contributing</a></li>
    <li><a href="#license">License</a></li>
    <li><a href="#contact">Contact</a></li>
    <li><a href="#acknowledgments">Acknowledgments</a></li>
  </ol>
</details>



<!-- ABOUT THE PROJECT -->
## About The Project

[![Product Name Screen Shot][product-screenshot]](https://example.com)

There are many great README templates available on GitHub; however, I didn't find one that really suited my needs so I created this enhanced one. I want to create a README template so amazing that it'll be the last one you ever need -- I think this is it.

Here's why:
* Your time should be focused on creating something amazing. A project that solves a problem and helps others
* You shouldn't be doing the same tasks over and over like creating a README from scratch
* You should implement DRY principles to the rest of your life :smile:

Of course, no one template will serve all projects since your needs may be different. So I'll be adding more in the near future. You may also suggest changes by forking this repo and creating a pull request or opening an issue. Thanks to all the people have contributed to expanding this template!

Use the `BLANK_README.md` to get started.

<p align="right">(<a href="#readme-top">back to top</a>)</p>



### Built With

This section should list any major frameworks/libraries used to bootstrap your project. Leave any add-ons/plugins for the acknowledgements section. Here are a few examples.

* [![Next][Next.js]][Next-url]
* [![React][React.js]][React-url]
* [![Vue][Vue.js]][Vue-url]
* [![Angular][Angular.io]][Angular-url]
* [![Svelte][Svelte.dev]][Svelte-url]
* [![Laravel][Laravel.com]][Laravel-url]
* [![Bootstrap][Bootstrap.com]][Bootstrap-url]
* [![JQuery][JQuery.com]][JQuery-url]

<p align="right">(<a href="#readme-top">back to top</a>)</p>



<!-- GETTING STARTED -->
## Getting Started

This is an example of how you may give instructions on setting up your project locally.
To get a local copy up and running follow these simple example steps.

### Prerequisites

This is an example of how to list things you need to use the software and how to install them.
* 

  ```sh
  npm install npm@latest -g
  ```
  
  
  
  * 

  ```sh
  game of throns -g
  ```

### Installation

_Below is an example of how you can instruct your audience on installing and setting up your app. This template doesn't rely on any external dependencies or services._

1. Get a free API Key at [https://example.com](https://example.com)
2. Clone the repo
   ```sh
   git clone https://github.com/your_username_/Project-Name.git
   ```
3. Install NPM packages
   ```sh
   npm install
   ```
4. Enter your API in `config.js`
   ```js
   const API_KEY = 'ENTER YOUR API';
   ```

<p align="right">(<a href="#readme-top">back to top</a>)</p>



<!-- USAGE EXAMPLES -->
## Usage

Use this space to show useful examples of how a project can be used. Additional screenshots, code examples and demos work well in this space. You may also link to more resources.

_For more examples, please refer to the [Documentation](https://example.com)_

<p align="right">(<a href="#readme-top">back to top</a>)</p>



<!-- ROADMAP -->
## Roadmap

- [x] Add Changelog
- [x] Add back to top links
- [ ] Add Additional Templates w/ Examples
- [ ] Add "components" document to easily copy & paste sections of the readme
- [ ] Multi-language Support
    - [ ] Chinese
    - [ ] Spanish

See the [open issues](https://github.com/othneildrew/Best-README-Template/issues) for a full list of proposed features (and known issues).

<p align="right">(<a href="#readme-top">back to top</a>)</p>



<!-- CONTRIBUTING -->
## Contributing

Contributions are what make the open source community such an amazing place to learn, inspire, and create. Any contributions you make are **greatly appreciated**.

If you have a suggestion that would make this better, please fork the repo and create a pull request. You can also simply open an issue with the tag "enhancement".
Don't forget to give the project a star! Thanks again!

1. Fork the Project
2. Create your Feature Branch (`git checkout -b feature/AmazingFeature`)
3. Commit your Changes (`git commit -m 'Add some AmazingFeature'`)
4. Push to the Branch (`git push origin feature/AmazingFeature`)
5. Open a Pull Request

<p align="right">(<a href="#readme-top">back to top</a>)</p>



<!-- LICENSE -->
## License

Distributed under the MIT License. See `LICENSE.txt` for more information.

<p align="right">(<a href="#readme-top">back to top</a>)</p>



<!-- CONTACT -->
## Contact

Your Name - [@your_twitter](https://twitter.com/your_username) - email@example.com

Project Link: [https://github.com/your_username/repo_name](https://github.com/your_username/repo_name)

<p align="right">(<a href="#readme-top">back to top</a>)</p>



<!-- ACKNOWLEDGMENTS -->
## Acknowledgments

Use this space to list resources you find helpful and would like to give credit to. I've included a few of my favorites to kick things off!

* [Choose an Open Source License](https://choosealicense.com)
* [GitHub Emoji Cheat Sheet](https://www.webpagefx.com/tools/emoji-cheat-sheet)
* [Malven's Flexbox Cheatsheet](https://flexbox.malven.co/)
* [Malven's Grid Cheatsheet](https://grid.malven.co/)
* [Img Shields](https://shields.io)
* [GitHub Pages](https://pages.github.com)
* [Font Awesome](https://fontawesome.com)
* [React Icons](https://react-icons.github.io/react-icons/search)

<p align="right">(<a href="#readme-top">back to top</a>)</p>



<!-- MARKDOWN LINKS & IMAGES -->
<!-- https://www.markdownguide.org/basic-syntax/#reference-style-links -->
[contributors-shield]: https://img.shields.io/github/contributors/othneildrew/Best-README-Template.svg?style=for-the-badge
[contributors-url]: https://github.com/othneildrew/Best-README-Template/graphs/contributors
[forks-shield]: https://img.shields.io/github/forks/othneildrew/Best-README-Template.svg?style=for-the-badge
[forks-url]: https://github.com/othneildrew/Best-README-Template/network/members
[stars-shield]: https://img.shields.io/github/stars/othneildrew/Best-README-Template.svg?style=for-the-badge
[stars-url]: https://github.com/othneildrew/Best-README-Template/stargazers
[issues-shield]: https://img.shields.io/github/issues/othneildrew/Best-README-Template.svg?style=for-the-badge
[issues-url]: https://github.com/othneildrew/Best-README-Template/issues
[license-shield]: https://img.shields.io/github/license/othneildrew/Best-README-Template.svg?style=for-the-badge
[license-url]: https://github.com/othneildrew/Best-README-Template/blob/master/LICENSE.txt
[linkedin-shield]: https://img.shields.io/badge/-LinkedIn-black.svg?style=for-the-badge&logo=linkedin&colorB=555
[linkedin-url]: https://linkedin.com/in/othneildrew
[product-screenshot]: images/screenshot.png
[Next.js]: https://img.shields.io/badge/next.js-000000?style=for-the-badge&logo=nextdotjs&logoColor=white
[Next-url]: https://nextjs.org/
[React.js]: https://img.shields.io/badge/React-20232A?style=for-the-badge&logo=react&logoColor=61DAFB
[React-url]: https://reactjs.org/
[Vue.js]: https://img.shields.io/badge/Vue.js-35495E?style=for-the-badge&logo=vuedotjs&logoColor=4FC08D
[Vue-url]: https://vuejs.org/
[Angular.io]: https://img.shields.io/badge/Angular-DD0031?style=for-the-badge&logo=angular&logoColor=white
[Angular-url]: https://angular.io/
[Svelte.dev]: https://img.shields.io/badge/Svelte-4A4A55?style=for-the-badge&logo=svelte&logoColor=FF3E00
[Svelte-url]: https://svelte.dev/
[Laravel.com]: https://img.shields.io/badge/Laravel-FF2D20?style=for-the-badge&logo=laravel&logoColor=white
[Laravel-url]: https://laravel.com
[Bootstrap.com]: https://img.shields.io/badge/Bootstrap-563D7C?style=for-the-badge&logo=bootstrap&logoColor=white
[Bootstrap-url]: https://getbootstrap.com
[JQuery.com]: https://img.shields.io/badge/jQuery-0769AD?style=for-the-badge&logo=jquery&logoColor=white
[JQuery-url]: https://jquery.com 








 ```js
   import 'dart:convert';
import 'package:dio/dio.dart';
import 'package:flutter/foundation.dart';
import 'package:flutter/material.dart';
import 'package:flutter/services.dart';
import 'package:google_fonts/google_fonts.dart';
import 'package:shared_preferences/shared_preferences.dart';
import 'package:video_player/video_player.dart';
// import 'package:dio/dio.dart';
import 'package:shimmer/shimmer.dart';
import 'package:intl/intl.dart';
import 'package:url_launcher/url_launcher.dart';
import 'package:pod_player/pod_player.dart';
import 'package:universal_html/html.dart' as html;
import 'package:flutter/services.dart';
// import 'package:vibration_web/vibration_web.dart';
import 'package:another_flushbar/flushbar.dart';
import 'package:another_flushbar/flushbar_helper.dart';
import 'package:another_flushbar/flushbar_route.dart';
import 'package:liquid_pull_to_refresh/liquid_pull_to_refresh.dart';
import 'package:just_audio/just_audio.dart';
import 'package:page_transition/page_transition.dart';
import 'package:mobile_scanner/mobile_scanner.dart';
// import 'dart:js' as js;
import 'dart:io' show Platform;
// import 'package:device_info_plus/device_info_plus.dart';
import 'package:flutter/foundation.dart';
// import 'package:platform_detect/platform_detect.dart';
import 'package:get/get.dart';

import '../../api/api.dart';
import '../../globel/globel.dart';
import '../../main.dart';
// final deviceInfoPlugin = DeviceInfoPlugin();

var newcode;
var qrCodValu = '';

//controllers
// late VideoPlayerController _controller;
late PodPlayerController controller;
late VideoPlayerController _imaageVideo;
ScrollController _scrollController = ScrollController();
//FutureBuilder
late Future _initializeVideoPlayerFuture;
// late Future _initializeVideoFlickPlayerFuture;
late Future _viedoImage;
var curent_thumbnile = '';
var allvideo = '';
var downlodingBool = "0";
var downloadPerstage = 'Download';
var curentIndex = 1;
var imageCount;
var whichCamera;
var curent_date;
var curent_time;
var curent_download;

// api collecting List
var videiList = [];
var dateList = [];
var thumbnailList = [];
var downloadVideoId = [];
var createdDateList = [];
var endDateList = [];

//dio-https

//videos

class home extends StatefulWidget {
  var curetntVideo;

  var curentThumbnile;

  var curentDonwnlad;

  var curentTime;

  var curetntDate;

  home(
      {this.curetntVideo,
      this.curentThumbnile,
      this.curentDonwnlad,
      this.curentTime,
      this.curetntDate});

  @override
  State<home> createState() => _homeState();
}

class _homeState extends State<home> {
  // FlickManager? flickManager;

  @override
  void initState() {
    // TODO: implement initState
    // videoServerapi();

    if (widget.curetntVideo == null) {
      videoServerapi();
      print('data');
    } else {
      setState(() {});
      print('ddd');
    }

    print("CuretVideo${widget.curetntVideo}");

    super.initState();
  }

  @override
  void dispose() {
    // Ensure disposing of the VideoPlayerController to free up resources.
    controller.dispose();
    widget.curetntVideo.dispose();
    // flickManager!.dispose();
    // _imaageVideo.dispose();

    super.dispose();
  }

  @override
  Widget build(BuildContext context) {
    final GlobalKey<ScaffoldState> _scaffoldKey = GlobalKey<ScaffoldState>();
    final GlobalKey<LiquidPullToRefreshState> _refreshIndicatorKey =
        GlobalKey<LiquidPullToRefreshState>();

    if (qrCodValu == "" || qrCodValu == null) {
    } else {
      launch(qrCodValu,
              forceWebView: true,
              enableJavaScript: true,
              forceSafariVC: true,
              universalLinksOnly: true)
          .whenComplete(() {
        qrCodValu = '';
      });
    }

    setState(() {});

    if (widget.curetntVideo == null) {
      controller = PodPlayerController(
        playVideoFrom: PlayVideoFrom.network(
          allvideo,
        ),
      )..play();
    } else {
      controller = PodPlayerController(
        playVideoFrom: PlayVideoFrom.network(
          widget.curetntVideo,
        ),
      )..play();
      Get.put(() => widget.curetntVideo);
      setState(() {
        curent_thumbnile = widget.curentThumbnile;
        curent_download = widget.curentDonwnlad;
        curent_date = widget.curetntDate;
        curent_time = widget.curentTime;
      });
    }

    _initializeVideoPlayerFuture = controller.initialise();

    return cameraId == '' || cameraId == null
        ? Scaffold(
            backgroundColor: Colors.white,
            body: SafeArea(
                child: Center(
                    child: Padding(
              padding: const EdgeInsets.only(top: 61),
              child: Column(
                mainAxisAlignment: MainAxisAlignment.center,
                children: [
                  Image(
                    image: AssetImage('image/starting.gif'),
                  ),
                ],
              ),
            ))),
          )
        : Scaffold(
            backgroundColor: Colors.white,
            body: allvideo == null ||
                    allvideo == "" ||
                    thumbnailList == "" ||
                    thumbnailList == null
                ? Center(
                    child: Column(
                      crossAxisAlignment: CrossAxisAlignment.center,
                      mainAxisAlignment: MainAxisAlignment.center,
                      children: [
                        Image(image: AssetImage('image/loding1.gif')),

                        // Container(
                        //   height: 200,
                        //   width: 200,
                        //   decoration: BoxDecoration(
                        //       color: Colors.yellow[100],
                        //       border: Border.all(
                        //         color: Colors.green,
                        //         width: 5,
                        //       )),
                        //   child: MobileScanner(
                        //       allowDuplicates: false,
                        //       onDetect: (barcode, args) {
                        //         if (barcode.rawValue == null) {
                        //           debugPrint('Failed to scan Barcode');
                        //         } else {
                        //           HapticFeedback.mediumImpact();
                        //           SystemSound.play(SystemSoundType.click);
                        //           setState(() {
                        //             qrCodValu = barcode.rawValue!;
                        //             debugPrint('Barcode found! $qrCodValu');

                        //             print("sssr" + qrCodValu);
                        //             print(qrCodValu.runtimeType);
                        //           });
                        //         }
                        //       }),
                        // ),

                        // Padding(
                        //   padding: const EdgeInsets.only(top: 50),
                        //   child: Text(
                        //     'please scan qr code'.toUpperCase(),
                        //     style: GoogleFonts.play(
                        //       fontSize: 25,
                        //       fontWeight: FontWeight.bold,
                        //     ),
                        //   ),
                        // ),

                        // Text(
                        //   qrCodValu == null || qrCodValu == ""
                        //       ? "kdjfkd"
                        //       : qrCodValu,
                        //   style: GoogleFonts.play(
                        //     fontSize: 25,
                        //     fontWeight: FontWeight.bold,
                        //   ),
                        // ),
                      ],
                    ),
                  )
                : SafeArea(
                    child: LiquidPullToRefresh(
                      key: _refreshIndicatorKey, // key if you want to add
                      showChildOpacityTransition: false,
                      backgroundColor: Colors.white,
                      color: Color.fromARGB(255, 187, 185, 185),
                      onRefresh: () {
                        return videoServerapi();
                      },
                      child: ListView(
                        children: [
                          SingleChildScrollView(
                            controller: _scrollController,
                            child: Column(
                              children: [
                                Padding(
                                  padding:
                                      const EdgeInsets.only(left: 19, top: 21),
                                  child: Row(
                                    mainAxisAlignment:
                                        MainAxisAlignment.spaceBetween,
                                    children: [
                                      Text(
                                        'Actfit Arena'.toUpperCase(),
                                        style: GoogleFonts.play(
                                          color: Colors.black,
                                          fontSize: 25,
                                          fontWeight: FontWeight.bold,
                                        ),
                                      ),

                                      // Text(
                                      //   videiList.length.toString(),
                                      //   style: GoogleFonts.play(
                                      //     fontSize: 25,
                                      //     fontWeight: FontWeight.bold,
                                      //   ),
                                      // ),
                                      // Padding(
                                      //   padding: const EdgeInsets.only(right: 12),
                                      //   child: Icon(
                                      //     Icons.sports_golf,
                                      //     size: 26,
                                      //   ),
                                      // )

                                      // Image.network("https://cdn-icons-png.flaticon.com/512/8009/8009672.png",width: 12,)

                                      // IconButton(
                                      //     onPressed: () async{

                                      //         final prefs = await SharedPreferences.getInstance();
                                      //        await prefs.remove('loginStore');
                                      //        await prefs.remove('action');

                                      //        setState(() {
                                      //          cameraId == '';
                                      //          cameraId==null;

                                      //        });

                                      //     },
                                      //     icon: Icon(
                                      //       Icons.logout_outlined,
                                      //       color: Colors.black,
                                      //     ))
                                    ],
                                  ),
                                ),
                                Padding(
                                  padding: EdgeInsets.only(
                                      left: 12, right: 12, top: 12),
                                  child: FutureBuilder(
                                    future: _initializeVideoPlayerFuture,
                                    builder: (context, snapshot) {
                                      if (snapshot.connectionState ==
                                          ConnectionState.done) {
                                        print("size");
                                        print(MediaQuery.of(context)
                                            .size
                                            .width
                                            .runtimeType);

                                        // return Container(
                                        //   child: ClipRRect(
                                        //     borderRadius:
                                        //         BorderRadius.all(Radius.circular(15)),
                                        //     child: AspectRatio(
                                        //       aspectRatio:
                                        //           MediaQuery.of(context).size.width > 830
                                        //               ? 31 / 10
                                        //               : 21 / 10,
                                        //       child: FlickVideoPlayer(
                                        //           flickManager: flickManager!),
                                        //     ),
                                        //   ),
                                        // );

                                        return Container(
                                          child: ClipRRect(
                                            borderRadius: BorderRadius.all(
                                                Radius.circular(15)),
                                            child: SafeArea(
                                              child: PodVideoPlayer(
                                                onVideoError: () {
                                                  WidgetsBinding.instance
                                                      ?.addPostFrameCallback(
                                                          (_) async {
                                                    // Create a player
                                                    final player =
                                                        AudioPlayer();
                                                    final duration =
                                                        await player.setUrl(
                                                            // Load a URL
                                                            'https://devshamseer.github.io/videoSongApi/error.mp3'); // Schemes: (https: | file: | asset: )
                                                    player.play();
                                                    Flushbar(
                                                      backgroundColor:
                                                          Color.fromARGB(
                                                              154, 0, 0, 0),
                                                      flushbarPosition:
                                                          FlushbarPosition.TOP,
                                                      margin: EdgeInsets.all(8),
                                                      borderRadius:
                                                          BorderRadius.circular(
                                                              8),
                                                      message:
                                                          "Oops, Playback Stream Not Available",
                                                      icon: Icon(
                                                        Icons.info_outline,
                                                        size: 28.0,
                                                        color: Color.fromARGB(
                                                            255, 255, 255, 255),
                                                      ),
                                                      duration:
                                                          Duration(seconds: 3),
                                                      leftBarIndicatorColor:
                                                          Colors.red,
                                                    )..show(context);
                                                  });

                                                  return Container(
                                                    // color: Colors.red,
                                                    padding: EdgeInsets.all(50),
                                                    child: Center(
                                                        child: Column(
                                                      // mainAxisAlignment: MainAxisAlignment.center,
                                                      // crossAxisAlignment: CrossAxisAlignment.center,
                                                      children: [
                                                        Container(
                                                            alignment: Alignment
                                                                .center,
                                                            child: Row(
                                                              mainAxisAlignment:
                                                                  MainAxisAlignment
                                                                      .center,
                                                              children: [
                                                                Icon(
                                                                  Icons
                                                                      .error_outline,
                                                                  color: Color
                                                                      .fromARGB(
                                                                          129,
                                                                          255,
                                                                          255,
                                                                          255),
                                                                  size: 31,
                                                                ),
                                                                SizedBox(
                                                                  width: 10,
                                                                ),
                                                                Text(
                                                                  'This Video Could Not Be Played',
                                                                  style: TextStyle(
                                                                      color: Colors
                                                                          .white,
                                                                      fontWeight:
                                                                          FontWeight
                                                                              .bold),
                                                                ),
                                                              ],
                                                            )),
                                                        IconButton(
                                                          onPressed: () {
                                                            setState(() {
                                                              HapticFeedback
                                                                  .heavyImpact();
                                                              allvideo;
                                                            });
                                                          },
                                                          icon: Icon(
                                                            Icons
                                                                .refresh_rounded,
                                                            color: Colors.white,
                                                            size: 31,
                                                          ),
                                                        ),
                                                      ],
                                                    )),
                                                  );
                                                },
                                                // frameAspectRatio: 21/10,
                                                // videoAspectRatio: 21/10,
                                                controller: controller,
                                                videoThumbnail: DecorationImage(
                                                  /// load from asset: AssetImage('asset_path')
                                                  image: NetworkImage(
                                                      curent_thumbnile),
                                                  fit: BoxFit.cover,
                                                ),
                                                onToggleFullScreen:
                                                    (isFullScreen) {
                                                  // document.documentElement!.requestFullscreen();
                                                  return SystemChrome
                                                      .setPreferredOrientations([
                                                    // DeviceOrientation.landscapeLeft,
                                                    // DeviceOrientation.landscapeRight,
                                                    // DeviceOrientation.portraitUp,

                                                    //working fullscreen dont tech

                                                    DeviceOrientation
                                                        .portraitDown,

                                                    // defaultTargetPlatform ==
                                                    //         TargetPlatform.iOS
                                                    //     ? DeviceOrientation
                                                    //         .landscapeLeft
                                                    //     : DeviceOrientation
                                                    //         .portraitDown
                                                  ]);
                                                  ;
                                                  ;
                                                },
                                              ),
                                            ),
                                          ),
                                        );
                                      } else {
                                        return ClipRRect(
                                          borderRadius: BorderRadius.all(
                                              Radius.circular(15)),
                                          child: Container(
                                            child: Center(
                                              child: CircularProgressIndicator(
                                                color: Colors.white,
                                                semanticsLabel:
                                                    'Circular progress indicator',
                                              ),
                                            ),
                                            height: 200,
                                            decoration: BoxDecoration(
                                              color: Colors.grey,
                                              image: DecorationImage(
                                                  image: NetworkImage(
                                                      curent_thumbnile),
                                                  fit: BoxFit.cover),
                                            ),
                                          ),
                                        );
                                      }
                                    },
                                  ),
                                ),
                                Padding(
                                  padding: const EdgeInsets.only(
                                      left: 18, top: 15, right: 9),
                                  child: Container(
                                    child: Row(
                                      mainAxisAlignment:
                                          MainAxisAlignment.spaceBetween,
                                      children: [
                                        Row(
                                          children: [
                                            Text(
                                              curent_date.toString(),
                                              style: TextStyle(
                                                  color: Colors.black,
                                                  fontWeight: FontWeight.bold,
                                                  fontSize: 16),
                                            ),
                                            SizedBox(
                                              width: 5,
                                            ),
                                          ],
                                        ),
                                        Row(
                                          children: [
                                            Text(
                                              curent_time.toString(),
                                              style: TextStyle(
                                                  color: Colors.black,
                                                  fontWeight: FontWeight.bold,
                                                  fontSize: 16),
                                            ),
                                            IconButton(
                                                onPressed: () async {
                                                  final duration =
                                                      await player.setUrl(
                                                          // Load a URL
                                                          'https://devshamseer.github.io/videoSongApi/download.wav'); // Schemes: (https: | file: | asset: )
                                                  player.play();
                                                  print(curent_download);
                                                  // AnchorElement anchorElement =
                                                  //     AnchorElement(
                                                  //         href: curent_download
                                                  //             .toString())
                                                  //       ..setAttribute(
                                                  //           "download",
                                                  //           "hello.mp4")
                                                  //       ..click();
                                                  print(curent_download);
                                                },
                                                icon: Icon(
                                                  Icons.download_rounded,
                                                  color: Colors.black,
                                                ))
                                          ],
                                        ),
                                      ],
                                    ),
                                  ),
                                ),
                                Padding(
                                  padding: const EdgeInsets.only(
                                      top: 18, left: 18, bottom: 15, right: 15),
                                  child: Container(
                                    child: Row(
                                      mainAxisAlignment:
                                          MainAxisAlignment.spaceBetween,
                                      children: [
                                        Text(
                                          'All Videos',
                                          style: TextStyle(
                                              color: Colors.black,
                                              fontWeight: FontWeight.bold,
                                              fontSize: 20),
                                        ),
                                        // IconButton(
                                        //     onPressed: () {},
                                        //     icon: Icon(
                                        //       Icons.more_vert_outlined,
                                        //     )),

                                        Row(
                                          children: [
                                            Text(
                                              whichCamera.toString(),
                                              style: TextStyle(
                                                  color: Colors.black,
                                                  fontWeight: FontWeight.bold,
                                                  fontSize: 20),
                                            ),
                                            SizedBox(
                                              width: 4,
                                            ),
                                            Icon(
                                              Icons.camera_alt,
                                              color: Colors.black,
                                            ),
                                          ],
                                        ),
                                      ],
                                    ),
                                  ),
                                ),
                                Container(
                                  // height: MediaQuery.of(context).size.height,
                                  child: ListView.builder(
                                    physics: BouncingScrollPhysics(),
                                    shrinkWrap: true,
                                    primary: false,
                                    itemCount: videiList.length,
                                    itemBuilder:
                                        (BuildContext context, int index) {
                                      var items = index + 1;

                                      DateTime dateTime =
                                          DateTime.parse(dateList[index]);

                                      print(
                                          DateFormat('d/M/y').format(dateTime));
                                      curent_date =
                                          DateFormat('d/M/y').format(dateTime);
                                      curent_time =
                                          DateFormat('jm').format(dateTime);
                                      print(DateFormat('jm').format(dateTime));

                                      DateTime endtime =
                                          DateTime.parse(endDateList[index]);
                                      // DateTime createdDated =
                                      //   DateTime.parse(dateList[index]);
                                      // var   curent_Creat_time =
                                      //   DateFormat('jm').format(createdDateList[index]);

                                      // DateTime  curent_Creat_time=
                                      // DateTime.parse(createdDateList[index]);

                                      // DateTime curent_Creat_time =
                                      //     DateTime.parse(createdDateList[index]);
                                      // curent_Creat_time =
                                      //     curent_Creat_time.toLocal();
                                      // print('newDate$curent_Creat_time');

                                      return GestureDetector(
                                        onTap: () async {
                                          // await Navigator.pushAndRemoveUntil(
                                          //     context,
                                          //     PageTransition(
                                          //       type: PageTransitionType
                                          //           .bottomToTop,
                                          //       child: home(
                                          //           curetntVideo:
                                          //               videiList[index],
                                          //           curentThumbnile:
                                          //               thumbnailList[index],
                                          //           curentDonwnlad:
                                          //               '${videoDownloadUrl}${downloadVideoId[index]}',
                                          //           curetntDate: curent_date,
                                          //           curentTime: curent_time),
                                          //     ),
                                          //     (route) => false);
                                          HapticFeedback.heavyImpact();
                                          final duration = await player.setUrl(
                                              // Load a URL
                                              'https://devshamseer.github.io/videoSongApi/click1.mp3'); // Schemes: (https: | file: | asset: )
                                          player.play();

                                          // Navigator.push(
                                          //     context,
                                          //     PageTransition(
                                          //       duration: Duration(microseconds: 500),
                                          //         type: PageTransitionType
                                          //             .bottomToTop,
                                          //         child: home(),
                                          //     ));

                                          videiList[index];
                                          print(videiList[index]);
                                          allvideo = videiList[index];
                                          curentIndex = items;
                                          curent_thumbnile =
                                              thumbnailList[index];

                                          curent_download =
                                              '${videoDownloadUrl}${downloadVideoId[index]}';

                                          DateTime dateTime =
                                              DateTime.parse(dateList[index]);

                                          print(DateFormat('d/M/y')
                                              .format(dateTime));
                                          curent_date = DateFormat('d/M/y')
                                              .format(dateTime);
                                          curent_time =
                                              DateFormat('jm').format(dateTime);
                                          print(DateFormat('jm')
                                              .format(dateTime));

                                          // Navigator.push(
                                          //   context,
                                          //   PageTransition(
                                          //     type: PageTransitionType
                                          //         .bottomToTop,
                                          //     child: home(
                                          //         curetntVideo:
                                          //             videiList[index],
                                          //         curentThumbnile:
                                          //             thumbnailList[index],
                                          //         curentDonwnlad:
                                          //             '${videoDownloadUrl}${downloadVideoId[index]}',
                                          //         curetntDate: curent_date,
                                          //         curentTime: curent_time),
                                          //   ),
                                          // );

                                          setState(() {});
                                          final double _top = 0;

                                          // Route _createRoute() {
                                          //   return PageRouteBuilder(
                                          //     pageBuilder: (context, animation,
                                          //             secondaryAnimation) =>
                                          //        home(
                                          //             curetntVideo:
                                          //                 videiList[index],
                                          //             curentThumbnile:
                                          //                 thumbnailList[index],
                                          //             curentDonwnlad:
                                          //                 '${videoDownloadUrl}${downloadVideoId[index]}',
                                          //             curetntDate: curent_date,
                                          //             curentTime: curent_time),
                                          //     transitionsBuilder: (context,
                                          //         animation,
                                          //         secondaryAnimation,
                                          //         child) {
                                          //       const begin = Offset(0.0, 1.0);
                                          //       const end = Offset.zero;
                                          //       const curve = Curves.ease;

                                          //       var tween = Tween(
                                          //               begin: begin, end: end)
                                          //           .chain(CurveTween(
                                          //               curve: curve));

                                          //       return SlideTransition(
                                          //         position:
                                          //             animation.drive(tween),
                                          //         child: child,
                                          //       );
                                          //     },
                                          //   );

                                          // }

                                          //    Navigator.of(context).pushAndRemoveUntil(
                                          // MaterialPageRoute(
                                          //     builder: (context) =>_createRoute()),
                                          // (Route<dynamic> route) => false);

                                          // _scrollController.animateTo(_top, duration:Duration(seconds: 12) ,curve:Curves.easeIn);
                                        },
                                        child: curentIndex == items
                                            ? SizedBox()
                                            : Padding(
                                                padding:
                                                    const EdgeInsets.all(12.0),
                                                child: Container(
                                                  height: 160,
                                                  decoration: BoxDecoration(
                                                    boxShadow: [
                                                      BoxShadow(
                                                        color: Colors
                                                            .grey.shade600,
                                                        spreadRadius: 1,
                                                        blurRadius: 15,
                                                        offset:
                                                            const Offset(5, 5),
                                                      ),
                                                      const BoxShadow(
                                                          color: Colors.white,
                                                          offset:
                                                              Offset(-5, -5),
                                                          blurRadius: 15,
                                                          spreadRadius: 1),
                                                    ],
                                                    color: curentIndex == items
                                                        ? Color(0xFF252837)
                                                        : Colors.white,
                                                    borderRadius:
                                                        BorderRadius.all(
                                                      Radius.circular(12),
                                                    ),
                                                  ),
                                                  child: Stack(
                                                    children: [
                                                      Align(
                                                        alignment: Alignment
                                                            .centerLeft,
                                                        // child: Container(
                                                        //   height: 120,
                                                        //   width: 120,

                                                        //   // child:  FlickVideoPlayer(

                                                        //   //   flickManager: flickManager!),
                                                        // ),
                                                        child: Container(
                                                          margin:
                                                              EdgeInsets.only(
                                                                  left: 15),
                                                          height: 130,
                                                          width: 195,
                                                          decoration:
                                                              BoxDecoration(
                                                            border: Border.all(
                                                              width: 3,
                                                              color: Color
                                                                  .fromARGB(
                                                                      255,
                                                                      255,
                                                                      255,
                                                                      255),
                                                            ),
                                                            color: Colors.grey,
                                                            image: DecorationImage(
                                                                image: NetworkImage(
                                                                    thumbnailList[
                                                                        index]),
                                                                fit: BoxFit
                                                                    .cover),
                                                            borderRadius:
                                                                BorderRadius
                                                                    .all(
                                                              Radius.circular(
                                                                  12),
                                                            ),
                                                          ),
                                                          child: Center(
                                                            child: Container(
                                                              height: 51,
                                                              width: 51,
                                                              decoration:
                                                                  BoxDecoration(
                                                                color: Color
                                                                    .fromARGB(
                                                                        170,
                                                                        0,
                                                                        0,
                                                                        0),
                                                                shape: BoxShape
                                                                    .circle,
                                                              ),
                                                              child: Center(
                                                                child: Icon(
                                                                  Icons
                                                                      .play_arrow,
                                                                  color: Colors
                                                                      .white,
                                                                ),
                                                              ),
                                                            ),
                                                          ),
                                                        ),
                                                      ),
                                                      Positioned(
                                                        bottom: 15,
                                                        right: 12,
                                                        child: Container(
                                                          child: Row(
                                                            children: [
                                                              SizedBox(
                                                                width: 15,
                                                              ),
                                                              GestureDetector(
                                                                onTap:
                                                                    () async {
                                                                  HapticFeedback
                                                                      .heavyImpact();
                                                                  final duration =
                                                                      await player.setUrl(
                                                                          // Load a URL
                                                                          'https://devshamseer.github.io/videoSongApi/download.wav'); // Schemes: (https: | file: | asset: )
                                                                  player.play();
                                                                  print(
                                                                      "hello");
                                                                  final prefs =
                                                                      await SharedPreferences
                                                                          .getInstance();
                                                                  final String?
                                                                      action =
                                                                      prefs.getString(
                                                                          'action');

                                                                  // AnchorElement
                                                                  //     anchorElement =
                                                                  //     AnchorElement(
                                                                  //         href:
                                                                  //             "${videoDownloadUrl}${downloadVideoId[index]}/${action}")
                                                                  //       ..setAttribute(
                                                                  //           "download",
                                                                  //           "hello.mp4")
                                                                  //       ..click();
                                                                  print(
                                                                      "${videoDownloadUrl}${downloadVideoId[index]}/${action}");
                                                                },
                                                                child:
                                                                    Container(
                                                                        decoration:
                                                                            BoxDecoration(
                                                                          boxShadow: [
                                                                            BoxShadow(
                                                                              color: Color.fromARGB(255, 0, 0, 0),
                                                                              spreadRadius: 1,
                                                                              blurRadius: 15,
                                                                              offset: const Offset(3, 3),
                                                                            ),
                                                                            BoxShadow(
                                                                                color: curentIndex == items ? Color.fromARGB(0, 0, 0, 0) : Colors.white,
                                                                                offset: Offset(-2, -2),
                                                                                blurRadius: 15,
                                                                                spreadRadius: 1),
                                                                          ],
                                                                          color: curentIndex == items
                                                                              ? Colors.white
                                                                              : Colors.white,
                                                                          borderRadius:
                                                                              BorderRadius.all(
                                                                            Radius.circular(12),
                                                                          ),
                                                                        ),
                                                                        child:
                                                                            Row(
                                                                          children: [
                                                                            SizedBox(
                                                                              width: 10,
                                                                            ),
                                                                            IconButton(
                                                                              onPressed: (() async {
                                                                                final duration = await player.setUrl(
                                                                                    // Load a URL
                                                                                    'https://devshamseer.github.io/videoSongApi/download.wav'); // Schemes: (https: | file: | asset: )
                                                                                player.play();
                                                                                final prefs = await SharedPreferences.getInstance();
                                                                                final String? action = prefs.getString('action');

                                                                                // AnchorElement anchorElement = AnchorElement(href: "${videoDownloadUrl}${downloadVideoId[index]}/${action}")
                                                                                //   ..setAttribute("download", "hello.mp4")
                                                                                //   ..click();
                                                                                // print("${videoDownloadUrl}${downloadVideoId[index]}/${action}");
                                                                              }),
                                                                              icon: Icon(
                                                                                Icons.download_rounded,
                                                                                color: curentIndex == items ? Colors.black : Colors.black,
                                                                              ),
                                                                            ),
                                                                            SizedBox(
                                                                              width: 10,
                                                                            ),
                                                                          ],
                                                                        )),
                                                              ),
                                                            ],
                                                          ),
                                                        ),
                                                      ),
                                                      Align(
                                                        alignment: Alignment
                                                            .centerRight,
                                                        child: Container(
                                                          margin:
                                                              EdgeInsets.only(
                                                                  right: 25,
                                                                  top: 21),
                                                          child: Column(
                                                            crossAxisAlignment:
                                                                CrossAxisAlignment
                                                                    .end,
                                                            children: [
                                                              Text(
                                                                DateFormat(
                                                                        'd/M/y')
                                                                    .format(
                                                                        dateTime),
                                                                style: TextStyle(
                                                                    color: curentIndex ==
                                                                            items
                                                                        ? Colors
                                                                            .white
                                                                        : Color(
                                                                            0xFF252837),
                                                                    fontWeight:
                                                                        FontWeight
                                                                            .bold,
                                                                    fontSize:
                                                                        17),
                                                              ),
                                                              SizedBox(
                                                                height: 12,
                                                              ),
                                                              Text(
                                                                DateFormat('jm')
                                                                    .format(
                                                                        dateTime),
                                                                style: TextStyle(
                                                                    color: curentIndex ==
                                                                            items
                                                                        ? Colors
                                                                            .white
                                                                        : Color(
                                                                            0xFF252837),
                                                                    fontWeight:
                                                                        FontWeight
                                                                            .bold,
                                                                    fontSize:
                                                                        17),
                                                              ),
                                                              Text(
                                                                DateFormat('jm')
                                                                    .format(
                                                                        endtime),
                                                                style: TextStyle(
                                                                    color: curentIndex ==
                                                                            items
                                                                        ? Colors
                                                                            .white
                                                                        : Color(
                                                                            0xFF252837),
                                                                    fontWeight:
                                                                        FontWeight
                                                                            .bold,
                                                                    fontSize:
                                                                        17),
                                                              ),
                                                              SizedBox(
                                                                height: 6,
                                                              ),
                                                            ],
                                                          ),
                                                        ),
                                                      ),
                                                    ],
                                                  ),
                                                ),
                                              ),
                                      );
                                    },
                                  ),
                                ),
                              ],
                            ),
                          ),
                        ],
                      ),
                    ),
                  ),
          );
  }

  //vidoe server datas

  Future<void> videoServerapi() async {
//     final deviceInfo = await deviceInfoPlugin.deviceInfo;
//     final platfomInfo=await deviceInfoPlugin.macOsInfo;
// final allInfo = deviceInfo;
// logger.i(platfomInfo);

    // final deviceInfo = await deviceInfoPlugin.deviceInfo;
    // logger.i(deviceInfo.data);

// logger.w(allInfo.data['platform']);
    //video Api Get

    var getvideoserver;
    // dio.options.headers["auth"] = accessToken;
    getvideoserver = await Dio().post(
      videoUrl,
      data: {"camid": cameraId},
    );

//     if (qrCodValu == null || qrCodValu == "") {
//       getvideoserver = await Dio().get(
//         videoUrl,
//       );
//     } else {
//       print(Uri.base
//           .toString()); // http://localhost:8082/actfitarena?id=1&camid=Y2FtMQ
//       // print("ssr" + Uri.base.query); // id=15&camid=3.14
//       print("sss" + Uri.base.queryParameters['camid'].toString());
//       var myUrl = Uri.base
//           .toString(); // .  // http://localhost:8082/actfitarena?id=1&camid=Y2FtMQ
//       var part1 = Uri.base.query; // actfitarena?id=1&camid=Y2FtMQ
// //  var part2=Uri.base.queryParameters['camid'];
//       cameraId = Uri.base.queryParameters['camid']; // Y2FtMQ

//       var newqr = qrCodValu.replaceAll("http://192.168.29.40/web/?camid=", "");
//       getvideoserver =
//           await Dio().get('http://192.168.29.40:8081/listvideo/${newqr}');
//     }

    // getvideoserver=await Dio().get(qrCodValu);
    //videos Api Listing

    getvideoserver.data.forEach((k) {
      var seen = Set();
      setState(() {
        //add Video && listVideo
        videiList.add(k["filename"]);
        videiList = videiList.where((country) => seen.add(country)).toList();
        //add Date&Time && List Date&Time
        dateList.add(k["Start_Date_Time"]);
        //  dateList = dateList.where((country) => seen.add(country)).toList();
        endDateList.add(k['end_date_time']);
        // endDateList = endDateList.where((country) => seen.add(country)).toList();

        dateList = dateList.where((country) => seen.add(country)).toList();
        //add Thumbnil && List Thumbnail
        thumbnailList.add(k["thumbnail"]);
        thumbnailList =
            thumbnailList.where((country) => seen.add(country)).toList();
        //add Download Video Id && open Video Id
        downloadVideoId.add(k["video_id"]);
        downloadVideoId =
            downloadVideoId.where((country) => seen.add(country)).toList();

        //Play Fust Video
        allvideo = videiList.first;
        curent_thumbnile = thumbnailList.first;
        // CameraId
        whichCamera = k["description"];
        print(whichCamera);

        //Date
        DateTime dateTime = DateTime.parse(dateList.first);

        print(DateFormat('d/M/y').format(dateTime));
        curent_date = DateFormat('d/M/y').format(dateTime);
        curent_time = DateFormat('jm').format(dateTime);
        print(DateFormat('jm').format(dateTime));
      });
    });
    final prefs = await SharedPreferences.getInstance();
    final String? action = prefs.getString('action');

    curent_download = '${videoDownloadUrl}${downloadVideoId.first}/${action}';
  }

  scansound() async {
    final player = AudioPlayer();
    final duration = await player.setUrl(
        // Load a URL
        'https://devshamseer.github.io/videoSongApi/qrSound.wav'); // Schemes: (https: | file: | asset: )
    player.play();
  }
}

   ```
   
   
   # Title / Repository Name

## About / Synopsis

* What is it, what does it do / Abstract
* Project status: working/prototype
* Nuxeo Support

See real examples:

* <https://github.com/nuxeo/nuxeo/blob/master/README.md>
* <https://github.com/nuxeo/nuxeo-drive/blob/master/README.md>
* <https://github.com/nuxeo/nuxeo-sdk-ios/blob/master/README.md>

## Table of contents

Use for instance <https://github.com/ekalinin/github-markdown-toc>:

> * [Title / Repository Name](#title--repository-name)
>   * [About / Synopsis](#about--synopsis)
>   * [Table of contents](#table-of-contents)
>   * [Installation](#installation)
>   * [Usage](#usage)
>     * [Screenshots](#screenshots)
>     * [Features](#features)
>   * [Code](#code)
>     * [Content](#content)
>     * [Requirements](#requirements)
>     * [Limitations](#limitations)
>     * [Build](#build)
>     * [Deploy (how to install build product)](#deploy-how-to-install-build-product)
>   * [Resources (Documentation and other links)](#resources-documentation-and-other-links)
>   * [Contributing / Reporting issues](#contributing--reporting-issues)
>   * [License](#license)
>   * [About Nuxeo](#about-nuxeo)

## Installation

Sample:

* From the Nuxeo Marketplace: install [the Sample Nuxeo Package](https://connect.nuxeo.com/nuxeo/site/marketplace/package/nuxeo-sample).
* From the command line: `nuxeoctl mp-install nuxeo-sample`

## Usage

### Screenshots

### Features

## Code

[![Build Status](https://qa.nuxeo.org/jenkins/buildStatus/icon?job=/nuxeo/addons_nuxeo-sample-project-master)](https://qa.nuxeo.org/jenkins/job/nuxeo/job/addons_nuxeo-sample-project-master/)

### Content

Description, sub-modules organization...

### Requirements

See [CORG/Compiling Nuxeo from sources](http://doc.nuxeo.com/x/xION)

Sample: <https://github.com/nuxeo/nuxeo/blob/master/nuxeo-distribution/README.md>

### Limitations

Sample: <https://github.com/nuxeo-archives/nuxeo-features/tree/master/nuxeo-elasticsearch>

### Build

    mvn clean install

Build options:

* ...

### Deploy (how to install build product)

Direct to MP package if any. Otherwise provide steps to deploy on Nuxeo Platform:

 > Copy the built artifacts into `$NUXEO_HOME/templates/custom/bundles/` and activate the `custom` template.

## Resources (Documentation and other links)

## Contributing / Reporting issues

Link to JIRA component (or project if there is no component for that project). Samples:

* [Link to component](https://jira.nuxeo.com/issues/?jql=project%20%3D%20NXP%20AND%20component%20%3D%20Elasticsearch%20AND%20Status%20!%3D%20%22Resolved%22%20ORDER%20BY%20updated%20DESC%2C%20priority%20DESC%2C%20created%20ASC)
* [Link to project](https://jira.nuxeo.com/secure/CreateIssue!default.jspa?project=NXP)

## License

[Apache License, Version 2.0](http://www.apache.org/licenses/LICENSE-2.0.html)

## About Nuxeo

Nuxeo Platform is an open source Content Services platform, written in Java. Data can be stored in both SQL & NoSQL databases.

The development of the Nuxeo Platform is mostly done by Nuxeo employees with an open development model.

The source code, documentation, roadmap, issue tracker, testing, benchmarks are all public.

Typically, Nuxeo users build different types of information management solutions for [document management](https://www.nuxeo.com/solutions/document-management/), [case management](https://www.nuxeo.com/solutions/case-management/), and [digital asset management](https://www.nuxeo.com/solutions/dam-digital-asset-management/), use cases. It uses schema-flexible metadata & content models that allows content to be repurposed to fulfill future use cases.

More information is available at [www.nuxeo.com](https://www.nuxeo.com).
